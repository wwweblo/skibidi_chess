

## **‚ôüÔ∏è Chess.skibidi**
–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é –¥–ª—è –∫–æ–ª–ª–µ–¥–∂–∞.

### üìå **–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç?**
1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç**
```bash
git clone https://github.com/wwweblo/skibidi_chess.git
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**  
```bash
npm install ts-node --save-dev
npm install
```
3. **env**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –ø–æ –ø—Ä–∏–º–µ—Ä—É –∏–∑ `env.exanple`

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Prisma**
```bash
npx prisma migrate deploy
npx prisma generate
npx prisma studio
```
–ü–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∫–æ–º–º–∞–Ω–¥—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤–∫–ª–∞–¥–∫–∞ ```Pisma Studio```, –≤ –Ω–µ–º –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –≤–æ–∑–Ω–∏–∫—Ä—É—Ç—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ

5. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä** 

  ```bash
  npm run server
  ```

> [!IMPORTANT]
> –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –Ω–∞ :3001 –ø–æ—Ä—Ç–µ.
> –ï—Å–ª–∏ –µ–º—É —É–¥–∞–ª–æ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª–∏

```bash
üöÄ –°–µ—Ä–≤–µ—Ä WebSocket –∏ API –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:3001
```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç**
  ```bash
  npm run dev
  ```

### üìÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ 
–î–æ–±–∞–≤—å —Ä–∞–∑–¥–µ–ª, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–π –ø–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞:  
```
üìÇ src
‚îú‚îÄ‚îÄ üìÇ app               # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ API
‚îú‚îÄ‚îÄ üìÇ components        # UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ üìÇ data              # –§–∞–π–ª—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ üìÇ hooks             # –•—É–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–∞–Ω–∏—è
‚îú‚îÄ‚îÄ üìÇ lib               # –£—Ç–∏–ª–∏—Ç—ã, API-–∑–∞–ø—Ä–æ—Å—ã
‚îú‚îÄ‚îÄ üìÇ scripts           # C–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ üìÇ types             # –¢–∏–ø—ã –¥–ª—è typescript
‚îú‚îÄ‚îÄ üìÇ utils             # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ üõú server.ts           # –ö–æ–¥ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã

```

---

## **üõú API**
–ö–æ–¥ API –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `src/app/api` –∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** –ø—Ä–∏ `npm run dev`.

### **üìå –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
- `POST /api/auth/register` ‚Äì **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
  ```json
  {
    "login": "skibidi_player",
    "email": "skibidi@example.com",
    "password": "securepassword"
  }
  ```
- `POST /api/auth/login` ‚Äì **–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É**
  ```json
  {
    "loginOrEmail": "skibidi_player",
    "password": "securepassword"
  }
  ```
- `POST /api/auth/logout` ‚Äì **–í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã**
- `GET /api/auth/me` ‚Äì **–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ**

### **üìå –ß–∞—Ç—ã**
- `POST /api/chat/getOrCreateChat` ‚Äì **–ü–æ–ª—É—á–∏—Ç—å —á–∞—Ç –º–µ–∂–¥—É 2 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**
  ```json
  {
    "userLogin": "player1",
    "targetLogin": "player2"
  }
  ```
- `GET /api/chat/messages?chatId=<id>` ‚Äì **–ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞**
- `POST /api/chat/send` ‚Äì **–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ**
  ```json
  {
    "chatId": 3,
    "text": "–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?"
  }
  ```

### **üìå EMaIL**

- `http://localhost:3000/api/email` - **–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ**

```json
{
  "to": "email@email.ru"
}
```

### **üìå –®–∞—Ö–º–∞—Ç–Ω—ã–µ –¥–µ–±—é—Ç—ã**
- `GET /api/openings` ‚Äì **–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —à–∞—Ö–º–∞—Ç–Ω—ã–µ –¥–µ–±—é—Ç—ã**
- `GET /api/openings?fen=<FEN>` ‚Äì **–ü–æ–∏—Å–∫ –¥–µ–±—é—Ç–∞ –ø–æ FEN**
- `POST /api/openings` ‚Äì **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –¥–µ–±—é—Ç**
  ```json
  {
    "name_en": "Ruy-Lopez",
    "name_ru": "–ò—Å–ø–∞–Ω—Å–∫–∞—è –ø–∞—Ä—Ç–∏—è",
    "fen": "rnbqkb1r/pppppppp/8/8/8/8/PPPPPPPP/RNBQKB1R w KQkq - 0 1"
  }
  ```
- `PUT /api/openings` ‚Äì **–û–±–Ω–æ–≤–∏—Ç—å –¥–µ–±—é—Ç**
  ```json
  {
    "id": 3,
    "name_en": "Updated Name",
    "name_ru": "–û–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –∏–º—è",
    "fen": "rnbqkb1r/pppppppp/8/8/8/8/PPPPPPPP/RNBQKB1R w KQkq - 0 1"
  }
  ```
- `DELETE /api/openings` ‚Äì **–£–¥–∞–ª–∏—Ç—å –¥–µ–±—é—Ç**
  ```json
  {
    "id": 3
  }
  ```

### **üìå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
- `GET /api/user?login=<login>` ‚Äì **–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ**

---

## **üìÑ –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞**
### **‚ôüÔ∏è –®–∞—Ö–º–∞—Ç–Ω—ã–µ –¥–µ–±—é—Ç—ã**
![ERD](public/readme/erd_openings.drawio.png)

- **–ò—Å—Ö–æ–¥–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (`src/data/chess_openings_backup`) —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü—É `Openings`.
- –ß—Ç–æ–±—ã –ø–æ—Å—Ç—Ä–æ–∏—Ç—å **–¥–µ—Ä–µ–≤–æ –¥–µ–±—é—Ç–æ–≤**, –Ω—É–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ø–æ–∑–∏—Ü–∏—è–º–∏.  
  –ó–∞–ø—É—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É:
  ```bash
  npm run generate-links
  ```
  –≠—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç —Å–∫—Ä–∏–ø—Ç [generateLinks.ts](src/scripts/generateLinks.ts) –∏ —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—É `position_links`.

### **üë® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**
![ERD](public/readme/erd_users.drawio.png)
